# ============================================
# Video Topic Graph Platform - Environment Configuration
# ============================================

# Application
NODE_ENV=development
APP_NAME=video-topic-graph-api
APP_VERSION=1.0.0

# Server Configuration
PORT=3000
HOST=0.0.0.0
LOG_LEVEL=info
REQUEST_TIMEOUT_MS=30000

# CORS
CORS_ORIGINS=http://localhost:3001,http://localhost:5173

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Upload
UPLOAD_MAX_FILE_SIZE=104857600

# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_NAME=videograph
DB_USER=postgres
DB_PASSWORD=postgres
DB_POOL_SIZE=10
DB_VECTOR_DIMENSION=384

# Redis Configuration
REDIS_URL=redis://localhost:6379
REDIS_PORT=6379

# MinIO Configuration
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001
STORAGE_PROVIDER=minio
STORAGE_ENDPOINT=http://localhost:9000
STORAGE_REGION=us-east-1
STORAGE_ACCESS_KEY=minioadmin
STORAGE_SECRET_KEY=minioadmin
STORAGE_BUCKET=videograph
STORAGE_USE_SSL=false
STORAGE_PRESIGNED_URL_EXPIRY=3600

# Keycloak Configuration
KEYCLOAK_PORT=8080
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=admin
AUTH_PROVIDER=keycloak
AUTH_ISSUER_URL=http://localhost:8080
AUTH_REALM=videograph
AUTH_CLIENT_ID=videograph-api
AUTH_CLIENT_SECRET=
AUTH_ADMIN_USERNAME=admin
AUTH_ADMIN_PASSWORD=admin

# Web UI Configuration
WEB_UI_PORT=3001
VITE_KEYCLOAK_CLIENT_ID=videograph-web

# Worker Configuration
WORKER_QUEUE_PROVIDER=redis
WORKER_REDIS_URL=redis://localhost:6379

# Ollama Configuration (optional)
OLLAMA_HOST=http://localhost:11434
OLLAMA_PORT=11434

# ============================================
# Model Configuration
# ============================================

# ASR Model
# Options: whisper, faster-whisper, whisper-cpp
ASR_MODEL=faster-whisper
ASR_MODEL_SIZE=base
ASR_DEVICE=cpu
ASR_COMPUTE_TYPE=int8

# Diarization
ENABLE_DIARIZATION=false
DIARIZATION_MODEL=pyannote/speaker-diarization

# Embedding Model
# Options: all-MiniLM-L6-v2, all-mpnet-base-v2, ollama-nomic
EMBEDDING_MODEL=all-MiniLM-L6-v2
EMBEDDING_DEVICE=cpu

# LLM Model
# Options: llama2, mistral, mixtral, ollama-phi
LLM_MODEL=mistral
LLM_PROVIDER=ollama
LLM_DEVICE=cpu

# ============================================
# Default Pipeline Configuration
# ============================================

DEFAULT_ASR_MODEL=faster-whisper
DEFAULT_ASR_LANGUAGE=
DEFAULT_ENABLE_DIARIZATION=false
DEFAULT_ENABLE_SCENE_DETECTION=false
DEFAULT_TOPIC_LEVELS=3
DEFAULT_EMBEDDING_MODEL=all-MiniLM-L6-v2
DEFAULT_LLM_MODEL=mistral
DEFAULT_SNIPPET_QUALITY=medium

# ============================================
# Feature Flags
# ============================================

FEATURE_SCENE_DETECTION=false
FEATURE_DIARIZATION=false
FEATURE_WORD_ALIGNMENT=false
FEATURE_VISUAL_TOPICS=false
FEATURE_OCR=false
FEATURE_MULTI_VIDEO_GRAPHS=false
FEATURE_EAGER_SNIPPET_GENERATION=true
FEATURE_DEEP_SEARCH=true
FEATURE_EXPORT_EMBEDDING=false
FEATURE_REALTIME_UPDATES=true
FEATURE_GRAPH_VERSIONING=true
FEATURE_SHARE_EXPIRATION=true
FEATURE_QUOTA_ENFORCEMENT=true
FEATURE_MULTI_PARENT_TOPICS=true
